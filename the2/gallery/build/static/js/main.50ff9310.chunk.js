(this.webpackJsonpgallery=this.webpackJsonpgallery||[]).push([[0],{204:function(e,t,a){e.exports=a(357)},209:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(47),o=a.n(r),c=(a(209),a(17)),i=a(18),s=a(20),u=a(19),m=a(376),h=a(49),p=a(40),d=a(84),E=a(365),g=a(377),v=a(61),b=a(368),f=a(374),y=a(22),C=a.n(y),O=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={username:"",message:"",situation:"grey",display:"none"},e.handleChange=function(t,a){var n=a.name,l=a.value;e.setState(Object(d.a)({},n,l))},e.handleSubmit=function(t){t.preventDefault(),C.a.post("/api/adduser",{username:e.state.username,avg_rating:0,gallery:[]}).then((function(t){200===t.status&&e.setState({message:"User is added!",situation:"green",display:"",username:""})})).catch((function(t){console.log(t.message),e.setState({message:t.message,situation:"red",display:""})}))},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(E.a,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,{as:"h2"},l.a.createElement(v.a,{name:"add user"})," Add User"),l.a.createElement(b.a,{onSubmit:this.handleSubmit},l.a.createElement(b.a.Group,null,l.a.createElement(b.a.Input,{name:"username",placeholder:"Enter a username",value:this.state.username,onChange:this.handleChange})),l.a.createElement(b.a.Button,{secondary:!0,content:"Submit",disabled:!this.state.username.length})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{display:this.state.display}},l.a.createElement(f.a,{color:this.state.situation,content:this.state.message})))}}]),a}(l.a.Component),j=a(371),w=a(379),k=a(373),D=a(366),S=a(193),R=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={users:[],loaded:!1},e.getUsers=function(){C.a.get("/api/users").then((function(t){e.setState({users:t.data,loaded:!0})})).catch((function(e){console.log(e.message)}))},e.handleDelete=function(t){var a="/api/deleteusers/"+t.target.id;C.a.delete(a).then((function(t){e.getUsers()})).catch((function(e){console.log(e.message)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this,t=0,a=this.state.users.map((function(a){return l.a.createElement(j.a.Row,{key:t++},l.a.createElement(j.a.Cell,null,l.a.createElement("div",null,l.a.createElement(v.a,{id:a._id,link:!0,name:"delete",onClick:e.handleDelete}),l.a.createElement(h.b,{to:{pathname:"/users/"+a.username}},a.username))))}));return l.a.createElement(E.a,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,{as:"h2"},"Select a user to login"),l.a.createElement("br",null),this.state.loaded?l.a.createElement(j.a,{basic:"very",celled:!0,collapsing:!0},l.a.createElement(j.a.Body,null,a)):l.a.createElement(w.a,null,l.a.createElement(k.a,{active:!0,inverted:!0},l.a.createElement(D.a,{inverted:!0},"Loading")),l.a.createElement(S.a,{src:"/short-paragraph.png"})))}}]),a}(l.a.Component),I=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={users:[],loaded:!1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.a.get("/api/users").then((function(t){var a=[];t.data.forEach((function(e){a.push(e)})),e.setState({users:a,loaded:!0})})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=0,t=this.state.users.map((function(t){return l.a.createElement(j.a.Row,{key:e++},l.a.createElement(j.a.Cell,null,l.a.createElement("div",null,l.a.createElement(v.a,{name:"user circle"}),l.a.createElement(h.b,{to:{pathname:"/users/"+t.username}},t.username))))}));return l.a.createElement(E.a,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,{as:"h2"},"Select a user to login"),l.a.createElement("br",null),this.state.loaded?l.a.createElement(j.a,{basic:"very",celled:!0,collapsing:!0},l.a.createElement(j.a.Body,null,t)):l.a.createElement(w.a,null,l.a.createElement(k.a,{active:!0,inverted:!0},l.a.createElement(D.a,{inverted:!0},"Loading")),l.a.createElement(S.a,{src:"/short-paragraph.png"})))}}]),a}(l.a.Component),_=a(378),x=a(375),A=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(E.a,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,{as:"h1",textAlign:"center"},"Welcome to Invention Gallery!"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(_.a,{centered:!0},l.a.createElement(x.a.Group,{size:"large"},l.a.createElement(x.a,{secondary:!0,onClick:function(e){return window.location.href="/adduser"}},"Add User"),l.a.createElement(x.a.Or,null),l.a.createElement(x.a,{secondary:!0,onClick:function(e){return window.location.href="/deleteuser"}},"Delete User"),l.a.createElement(x.a.Or,null),l.a.createElement(x.a,{secondary:!0,onClick:function(e){return window.location.href="/login"}},"Login"))))}}]),a}(l.a.Component),G=a(89),P=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={user:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.a.get("/api/user/"+this.props.username).then((function(t){e.setState({user:t.data[0]})})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this;return l.a.createElement(E.a,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(_.a,{columns:5,divided:!0},l.a.createElement(_.a.Row,null,l.a.createElement(_.a.Column,null,l.a.createElement(g.a,{as:"h2"},"Username"),l.a.createElement(G.a,{as:"a"},l.a.createElement(S.a,{avatar:!0,spaced:"right",src:"https://react.semantic-ui.com/images/avatar/small/jenny.jpg"}),this.state.user.username)),l.a.createElement(_.a.Column,null,l.a.createElement(g.a,{as:"h2"},"Average Rating"),l.a.createElement(x.a,null,l.a.createElement(v.a,{name:"star"}),this.state.user.avg_rating)),l.a.createElement(_.a.Column,null,l.a.createElement(g.a,{as:"h2"},"Exhibit"),l.a.createElement(x.a,{onClick:function(t){window.location.href="/exhibit/"+e.props.username}},l.a.createElement(v.a,{name:"add"}),"Add invention")),l.a.createElement(_.a.Column,null,l.a.createElement(g.a,{as:"h2"},"Drop"),l.a.createElement(x.a,{onClick:function(t){window.location.href="/drop/"+e.props.username}},l.a.createElement(v.a,{name:"trash"}),"Drop invention")),l.a.createElement(_.a.Column,null,l.a.createElement(g.a,{as:"h2"},"Rate"),l.a.createElement(x.a,{onClick:function(t){window.location.href="/gallery/"+e.props.username}},l.a.createElement(v.a,{name:"images"}),"Go to Gallery")))))}}]),a}(l.a.Component),M=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(E.a,null,l.a.createElement(P,{username:this.props.match.params.name}))}}]),a}(l.a.Component),U=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={product_name:"",photo:"",cost:"",materials:"",inventor:"",rating:0,date:"",optional1:"",value1:"",optional2:"",value2:"",message:"",situation:"grey",display:"none"},e.handleChange=function(t,a){var n=a.name,l=a.value;e.setState(Object(d.a)({},n,l))},e.handleSubmit=function(t){t.preventDefault(),C.a.post("/api/addproduct",{product_name:e.state.product_name,photo:e.state.photo,cost:e.state.cost,materials:e.state.materials,inventor:e.props.match.params.name,rating:e.state.rating,date:Date.now(),exhibit:!0,optionals:{name1:e.state.optional1,val1:e.state.value1,name2:e.state.optional2,val2:e.state.value2}}).then((function(t){200===t.status&&(console.log("product is added"),e.setState({product_name:"",photo:"",cost:"",materials:"",description:"",patent_number:"",optional1:"",value1:"",optional2:"",value2:"",message:"Product is added!",situation:"green",display:""}))})).catch((function(t){console.log(t.message),e.setState({message:t.message,situation:"red",display:""})}))},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(E.a,null,l.a.createElement(P,{username:this.props.match.params.name}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,{as:"h2"},"Exhibit an Invention"),l.a.createElement(b.a,{onSubmit:this.handleSubmit},l.a.createElement(b.a.Field,null,l.a.createElement(b.a.Input,{name:"product_name",placeholder:"Enter the product name",value:this.state.product_name,onChange:this.handleChange})),l.a.createElement(b.a.Field,null,l.a.createElement(b.a.Input,{name:"photo",placeholder:"Enter the photo URL of the invention",value:this.state.photo,onChange:this.handleChange})),l.a.createElement(b.a.Field,null,l.a.createElement(b.a.Input,{name:"materials",placeholder:"Add materials used for the product",value:this.state.materials,onChange:this.handleChange})),l.a.createElement(b.a.Field,null,l.a.createElement(b.a.Input,{name:"cost",placeholder:"Enter the cost of the product",value:this.state.cost,onChange:this.handleChange})),l.a.createElement(g.a,{as:"h3"},"Add 2 Optional fields"),l.a.createElement(_.a,{columns:2,divided:!0},l.a.createElement(_.a.Row,null,l.a.createElement(_.a.Column,null,l.a.createElement(b.a.Field,null,l.a.createElement(b.a.Input,{name:"optional1",placeholder:"Enter the element name",value:this.state.optional1,onChange:this.handleChange}))),l.a.createElement(_.a.Column,null,l.a.createElement(b.a.Field,null,l.a.createElement(b.a.Input,{name:"value1",placeholder:"Enter the value",value:this.state.value1,onChange:this.handleChange})))),l.a.createElement(_.a.Row,null,l.a.createElement(_.a.Column,null,l.a.createElement(b.a.Field,null,l.a.createElement(b.a.Input,{name:"optional2",placeholder:"Enter the element name)",value:this.state.optional2,onChange:this.handleChange}))),l.a.createElement(_.a.Column,null,l.a.createElement(b.a.Field,null,l.a.createElement(b.a.Input,{name:"value2",placeholder:"Enter the value",value:this.state.value2,onChange:this.handleChange}))))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(b.a.Button,{secondary:!0,content:"Submit",disabled:!this.state.product_name.length||!this.state.photo.length||!this.state.cost||!this.state.materials.length})),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{style:{display:this.state.display}},l.a.createElement(f.a,{color:this.state.situation,content:this.state.message})))}}]),a}(l.a.Component),F=a(372),B=a(367),L=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={inventions:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;C.a.get("/api/products").then((function(t){e.setState({inventions:t.data})})).catch((function(e){console.log(e.message)}))}},{key:"render",value:function(){var e=this,t=0,a=this.state.inventions.map((function(a){return l.a.createElement(F.a,{key:t++},l.a.createElement(F.a.Content,null,l.a.createElement(S.a,{floated:"right",size:"mini",src:a.photo}),l.a.createElement(F.a.Header,null,a.product_name),l.a.createElement(F.a.Meta,null,"Inventor: ",a.inventor),l.a.createElement(F.a.Description,null,a.description)),l.a.createElement(F.a.Content,{extra:!0},l.a.createElement(x.a,{secondary:!0,onClick:function(t){window.location.href="/invention/"+e.props.match.params.name+"/"+a.product_name}},"Take a Look!")))}));return l.a.createElement(E.a,null,l.a.createElement(P,{username:this.props.match.params.name}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,{as:"h2"},"Gallery"),l.a.createElement(B.a,null),l.a.createElement(F.a.Group,null,a))}}]),a}(l.a.Component),z=a(118),H=a.n(z),W=a(189),J=a(370),N=a(380),T=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={invention:[],defrate:0,rating:0,user:[]},e.getProduct=function(){var t="/api/productdetail/"+e.props.match.params.product;C.a.get(t).then((function(t){e.setState({invention:t.data[0]}),e.getOldRate()})).catch((function(e){console.log(e.message)}))},e.getOldRate=function(){var t="/api/ratedbefore/"+e.props.match.params.name+"/"+e.props.match.params.product;C.a.get(t).then((function(t){t.data.length?e.setState({defrate:t.data[0].rating}):e.setState({defrate:0})})).catch((function(e){console.log(e.message)}))},e.formatDate=function(e){return new Date(e).toLocaleDateString(["en-GB"],{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},e.renewRate=function(){console.log("******************"),e.getProduct()},e.callRate=function(){var t="/api/inventions/"+e.props.match.params.name+"/"+e.props.match.params.product;C.a.put(t,{rater:e.props.match.params.name,product_name:e.state.invention.product_name,inventor:e.state.invention.inventor,rating:e.state.rating}).then((function(e){200===e.status&&console.log("we good")})).catch((function(e){console.log(e.message())}))},e.handleRate=function(){var t=Object(W.a)(H.a.mark((function t(a,n){var l;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=n.rating,t.next=3,e.setState({rating:l});case 3:e.callRate(),e.renewRate(),window.location.reload();case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getProduct(),this.getOldRate()}},{key:"render",value:function(){return l.a.createElement(E.a,null,l.a.createElement(P,{username:this.props.match.params.name}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,{as:"h2"},"Product Name: ",this.props.match.params.product),l.a.createElement(B.a,null),l.a.createElement(J.a.Group,{link:!0},l.a.createElement(J.a,null,l.a.createElement(J.a.Image,{size:"large",src:this.state.invention.photo}),l.a.createElement(J.a.Content,null,l.a.createElement(J.a.Header,null,"Inventor: ",this.state.invention.inventor),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(J.a.Description,null,l.a.createElement("strong",null,"Post Date: ")," ",this.state.invention.date?this.formatDate(this.state.invention.date):"",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("strong",null,"Rating: ")," ",this.state.invention.rating,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("strong",null,"Materials: ")," ",this.state.invention.materials,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("strong",null,"Cost: "),this.state.invention.cost,l.a.createElement("br",null),l.a.createElement("br",null),this.state.invention.optionals?l.a.createElement("strong",null,this.state.invention.optionals.name1.length?this.state.invention.optionals.name1+":":""," "):"",this.state.invention.optionals?this.state.invention.optionals.val1:"",l.a.createElement("br",null),l.a.createElement("br",null),this.state.invention.optionals?l.a.createElement("strong",null,this.state.invention.optionals.name2.length?this.state.invention.optionals.name2+":":""," "):"",this.state.invention.optionals?this.state.invention.optionals.val2:"",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("strong",null,"Rate the product:"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(N.a,{icon:"star",defaultRating:this.state.defrate,maxRating:5,onRate:this.handleRate,size:"huge"}))))))}}]),a}(l.a.Component),Y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={inventions:[]},e.getProducts=function(){C.a.get("/api/products/"+e.props.match.params.name).then((function(t){e.setState({inventions:t.data})})).catch((function(e){console.log(e.message)}))},e.handleDrop=function(t){var a="/api/dropproduct/"+t.target.id;C.a.put(a).then((function(t){e.getProducts()})).catch((function(e){console.log(e.message)}))},e.handleExhibit=function(t){var a="/api/exhibitproduct/"+t.target.id;C.a.put(a).then((function(t){e.getProducts()})).catch((function(e){console.log(e.message)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getProducts()}},{key:"render",value:function(){var e=this,t=0,a=this.state.inventions.map((function(a){return l.a.createElement(F.a,{key:t++},l.a.createElement(F.a.Content,null,l.a.createElement(S.a,{floated:"right",size:"mini",src:a.photo}),l.a.createElement(F.a.Header,null,a.product_name),l.a.createElement(F.a.Meta,null,"Inventor: ",a.inventor),l.a.createElement(F.a.Description,null,a.description)),l.a.createElement(F.a.Content,{extra:!0},a.exhibit?l.a.createElement(x.a,{secondary:!0,onClick:e.handleDrop,id:a._id},"Drop from gallery"):l.a.createElement(x.a,{secondary:!0,onClick:e.handleExhibit,id:a._id},"Dropped, Exhibit Again")))}));return l.a.createElement(E.a,null,l.a.createElement(P,{username:this.props.match.params.name}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(g.a,{as:"h2"},"Your Inventions"),l.a.createElement(B.a,null),l.a.createElement(F.a.Group,null,a))}}]),a}(l.a.Component),$=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(h.a,null,l.a.createElement("div",null,l.a.createElement(m.a,{inverted:!0},l.a.createElement(m.a.Item,{name:"Home",as:h.c,to:"/"})),l.a.createElement(p.c,null,l.a.createElement(p.a,{path:"/adduser",component:O}),l.a.createElement(p.a,{path:"/deleteuser",component:R}),l.a.createElement(p.a,{path:"/login",component:I}),l.a.createElement(p.a,{path:"/users/:name",component:M}),l.a.createElement(p.a,{path:"/exhibit/:name",component:U}),l.a.createElement(p.a,{path:"/gallery/:name",component:L}),l.a.createElement(p.a,{path:"/drop/:name",component:Y}),l.a.createElement(p.a,{path:"/invention/:name/:product",component:T}),l.a.createElement(p.a,{path:"/",component:A}))))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[204,1,2]]]);
//# sourceMappingURL=main.50ff9310.chunk.js.map